 <!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Sherlock Cluster documentation"><link rel="canonical" href="https://www.sherlock.stanford.edu/docs/software/using/python/"><meta name="author" content="Kilian Cavalotti"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\_\-\.]+"><link rel="shortcut icon" href="../../../../img/logo_small.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Python - Sherlock</title><link rel="stylesheet" href="../../../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.fe74ad26.css"><meta name="theme-color" content=""><script src="../../../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../../../assets/fonts/material-icons.css"><link rel="manifest" href="../../../../manifest.webmanifest"><link rel="stylesheet" href="../../../.."><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-68034405-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="stanford" data-md-color-accent="stanford"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#introduction" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://www.sherlock.stanford.edu/" title="Sherlock" class="md-header-nav__button md-logo"><img src="../../../../img/logo_small.png" width="24" height="24"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Sherlock</span><span class="md-header-nav__topic">Python</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/stanford-rc/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">SRCC <i class="fa fa-heart-o"></i> Open Source</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://www.sherlock.stanford.edu/" title="Sherlock" class="md-nav__button md-logo"><img src="../../../../img/logo_small.png" width="48" height="48"></a>Sherlock</label><div class="md-nav__source"><a href="https://github.com/stanford-rc/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">SRCC <i class="fa fa-heart-o"></i> Open Source</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1"><label class="md-nav__link" for="nav-1">Overview</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-1">Overview</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../overview/introduction/" title="Introduction" class="md-nav__link">Introduction</a></li><li class="md-nav__item"><a href="../../../overview/concepts/" title="Concepts" class="md-nav__link">Concepts</a></li><li class="md-nav__item"><a href="../../../overview/glossary/" title="Glossary" class="md-nav__link">Glossary</a></li><li class="md-nav__item"><a href="../../../overview/specs/" title="Tech specs" class="md-nav__link">Tech specs</a></li><li class="md-nav__item"><a href="../../../overview/status/" title="Status" class="md-nav__link">Status</a></li><li class="md-nav__item"><a href="../../../overview/about/" title="About" class="md-nav__link">About</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">Getting Started</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">Getting Started</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../getting-started/prerequisites/" title="Prerequisites" class="md-nav__link">Prerequisites</a></li><li class="md-nav__item"><a href="../../../getting-started/connecting/" title="Connecting" class="md-nav__link">Connecting</a></li><li class="md-nav__item"><a href="../../../getting-started/submitting/" title="Submitting jobs" class="md-nav__link">Submitting jobs</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">User guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">User guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../user-guide/running-jobs/" title="Running jobs" class="md-nav__link">Running jobs</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2"><label class="md-nav__link" for="nav-3-2">Specialized resources</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-2">Specialized resources</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../user-guide/gpu/" title="GPU nodes" class="md-nav__link">GPU nodes</a></li></ul></nav></li><li class="md-nav__item"><a href="../../../user-guide/ondemand/" title="OnDemand" class="md-nav__link">OnDemand</a></li><li class="md-nav__item"><a href="../../../user-guide/troubleshoot/" title="Troubleshooting" class="md-nav__link">Troubleshooting</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">Storage</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Storage</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../storage/overview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../../storage/filesystems/" title="Filesystems" class="md-nav__link">Filesystems</a></li><li class="md-nav__item"><a href="../../../storage/data-sharing/" title="Data sharing" class="md-nav__link">Data sharing</a></li><li class="md-nav__item"><a href="../../../storage/data-protection/" title="Data protection" class="md-nav__link">Data protection</a></li><li class="md-nav__item"><a href="../../../storage/data-transfer/" title="Data transfer" class="md-nav__link">Data transfer</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked><label class="md-nav__link" for="nav-5">Software</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">Software</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../overview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../list/" title="List" class="md-nav__link">List</a></li><li class="md-nav__item"><a href="../../modules/" title="Modules" class="md-nav__link">Modules</a></li><li class="md-nav__item"><a href="../../install/" title="Installation" class="md-nav__link">Installation</a></li><li class="md-nav__item"><a href="../../containers/" title="Containers" class="md-nav__link">Containers</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-6" type="checkbox" id="nav-5-6" checked><label class="md-nav__link" for="nav-5-6">Usage</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-6">Usage</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../R/" title="R" class="md-nav__link">R</a></li><li class="md-nav__item"><a href="../julia/" title="Julia" class="md-nav__link">Julia</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Python</label><a href="./" title="Python" class="md-nav__link md-nav__link--active">Python</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#introduction" title="Introduction" class="md-nav__link">Introduction</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#more-documentation" title="More documentation" class="md-nav__link">More documentation</a></li></ul></nav></li><li class="md-nav__item"><a href="#python-on-sherlock" title="Python on Sherlock" class="md-nav__link">Python on Sherlock</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#using-python" title="Using Python" class="md-nav__link">Using Python</a></li><li class="md-nav__item"><a href="#python-packages" title="Python packages" class="md-nav__link">Python packages</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#installing-packages" title="Installing packages" class="md-nav__link">Installing packages</a></li><li class="md-nav__item"><a href="#upgrading-packages" title="Upgrading packages" class="md-nav__link">Upgrading packages</a></li><li class="md-nav__item"><a href="#uninstalling-packages" title="Uninstalling packages" class="md-nav__link">Uninstalling packages</a></li></ul></nav></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../perl/" title="Perl" class="md-nav__link">Perl</a></li><li class="md-nav__item"><a href="../spark/" title="Spark" class="md-nav__link">Spark</a></li><li class="md-nav__item"><a href="../mariadb/" title="MariaDB" class="md-nav__link">MariaDB</a></li><li class="md-nav__item"><a href="../postgresql/" title="PostgreSQL" class="md-nav__link">PostgreSQL</a></li><li class="md-nav__item"><a href="../singularity/" title="Singularity" class="md-nav__link">Singularity</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6"><label class="md-nav__link" for="nav-6">Advanced topics</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">Advanced topics</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../advanced-topics/connection/" title="Connection" class="md-nav__link">Connection</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#introduction" title="Introduction" class="md-nav__link">Introduction</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#more-documentation" title="More documentation" class="md-nav__link">More documentation</a></li></ul></nav></li><li class="md-nav__item"><a href="#python-on-sherlock" title="Python on Sherlock" class="md-nav__link">Python on Sherlock</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#using-python" title="Using Python" class="md-nav__link">Using Python</a></li><li class="md-nav__item"><a href="#python-packages" title="Python packages" class="md-nav__link">Python packages</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#installing-packages" title="Installing packages" class="md-nav__link">Installing packages</a></li><li class="md-nav__item"><a href="#upgrading-packages" title="Upgrading packages" class="md-nav__link">Upgrading packages</a></li><li class="md-nav__item"><a href="#uninstalling-packages" title="Uninstalling packages" class="md-nav__link">Uninstalling packages</a></li></ul></nav></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/stanford-rc/www.sherlock.stanford.edu/edit/docs/src/docs/software/using/python.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1>Python</h1><h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">#</a></h2>
<p><a href="https://www.python.org/">Python</a> is an interpreted high-level programming language for
general-purpose programming. Its design philosophy emphasizes code readability,
notably using significant whitespace. It provides constructs that enable clear
programming on both small and large scales, which makes it both easy to learn
and very well-suited for rapid prototyping.</p>
<h3 id="more-documentation">More documentation<a class="headerlink" href="#more-documentation" title="Permanent link">#</a></h3>
<p>The following documentation is specifically intended for using Python on
Sherlock. For more complete documentation about Python in general, please see
the <a href="https://www.python.org/doc">Python documentation</a>.</p>
<h2 id="python-on-sherlock">Python on Sherlock<a class="headerlink" href="#python-on-sherlock" title="Permanent link">#</a></h2>
<p>Sherlock features multiple versions of Python (currently <code>2.7</code> and <code>3.6</code>).</p>
<p>Some applications only work with legacy features of version 2.x, while more
recent code will require specific version 3.x features.  <a href="/docs/software/list">Modules on
Sherlock</a> may only be available in a single flavor (as denoted by
their suffix: <code>_py27</code> or <code>_py36</code>, because the application only supports one or
the other.</p>
<p>You can load either version on Sherlock by doing the following commands:</p>
<div class="codehilite"><pre><span></span>$ ml python/2.7.13
</pre></div>

<p>or</p>
<div class="codehilite"><pre><span></span>$ ml python/3.6.1
</pre></div>

<div class="admonition warning">
<p class="admonition-title">The Python3 interpreter is <code>python3</code></p>
<p>The Python3 executable is named <code>python3</code>, not <code>python</code>. So, once you have
the "python/3.6.1" module loaded on Sherlock, you will need to use
<code>python3</code> to invoke the proper interpreter. <code>python</code> will still refer to
the default, older system-level Python installation, and may result in
errors when trying to run Python3 code.</p>
<p>This is an upstream decision detailled in <a href="https://www.python.org/dev/peps/pep-0394">PEP-394</a>, not
something specific to Sherlock.</p>
</div>
<h3 id="using-python">Using Python<a class="headerlink" href="#using-python" title="Permanent link">#</a></h3>
<p>Once your environment is configured (ie. when the Python module is loaded),
Python can be started by simply typing <code>python</code> at the shell prompt:</p>
<div class="codehilite"><pre><span></span>$ python
Python 2.7.13 (default, Apr 27 2017, 14:19:21)
[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;
</pre></div>

<h3 id="python-packages">Python packages<a class="headerlink" href="#python-packages" title="Permanent link">#</a></h3>
<p>The capabilities of Python can be extended with packages developed by third
parties. In general, to simplify operations, it is left up to individual users
and groups to install these third-party packages in their own directories.
However, Sherlock provides tools to help you install the third-party packages
that you need.</p>
<p>Among <a href="/docs/software/list">many others</a>, the following common Python packages are
provided on Sherlock:</p>
<ul>
<li><a href="http://www.numpy.org/">NumPy</a></li>
<li><a href="https://www.scipy.org/">SciPy</a></li>
<li><a href="https://www.tensorflow.org">TensorFlow</a></li>
</ul>
<p>Python modules on Sherlock generally follow the naming scheme below:
<div class="codehilite"><pre><span></span>py-&lt;package_name&gt;/version_py&lt;python_version&gt;
</pre></div>
For instance, NumPy modules are:</p>
<ul>
<li><a href="/docs/software/list/#py-numpy"><code>py-numpy/1.14.3_py27</code></a></li>
<li><a href="/docs/software/list/#py-numpy"><code>py-numpy/1.14.3_py36</code></a></li>
</ul>
<p>You can list all available module versions for a package with <code>ml spider
&lt;package_name&gt;</code>. For instance:</p>
<div class="codehilite"><pre><span></span>$ ml spider tensorflow
-------------------------------------------------------------------------------
  py-tensorflow:
-------------------------------------------------------------------------------
    Description:
      TensorFlow™ is an open source software library for numerical computation using data flow graphs.

     Versions:
        py-tensorflow/1.6.0_py27
        py-tensorflow/1.6.0_py36
        py-tensorflow/1.7.0_py27
        py-tensorflow/1.9.0_py27
        py-tensorflow/1.9.0_py36
</pre></div>

<div class="admonition tip">
<p class="admonition-title">Dependencies are handled automatically</p>
<p>When you decide to use NumPy on Sherlock, you just need to load the
<code>py-numpy</code> module of your choice, and the correct Python interpreter will
be loaded automatically. No need to load a <code>python</code> module explicitly.</p>
</div>
<h4 id="installing-packages">Installing packages<a class="headerlink" href="#installing-packages" title="Permanent link">#</a></h4>
<p>If you need to use a Python package that is not already provided as a module on
Sherlock, you can use the <a href="https://pip.pypa.io/en/stable/"><code>pip</code></a> command. This command takes care of
compiling and installing most of Python packages and their dependencies. All of
<code>pip</code>'s commands and options are explained in detail in the <a href="https://pip.pypa.io/en/stable/user_guide/">Pip user
guide</a>.</p>
<p>A comprehensive index of Python packages can be found at <a href="https://pypi.python.org/pypi">PyPI</a>.</p>
<p>To install Python packages with <code>pip</code>, you'll need to use the <code>--user</code> option.
This will make sure that those packages are installed in a user-writable
location (by default, your <code>$HOME</code> directory). Since your <code>$HOME</code> directory is
shared across nodes on Sherlock, you'll only need to install your Python
packages once, and they'll be ready to be used on every single node in the
cluster.</p>
<p>For example:
<div class="codehilite"><pre><span></span>$ pip install --user &lt;package_name&gt;
</pre></div></p>
<p>For Python 3, use <code>pip3</code>:
<div class="codehilite"><pre><span></span>$ pip3 install --user &lt;package_name&gt;
</pre></div></p>
<p>Python packages will be installed in <code> $HOME/.local/lib/python&lt;<font
color=red>&lt;version&gt;</font>/site-packages</code>, meaning that packages
for Python 2.x and Python 3.x will be kept separate. This both means that they
won't interfere with each other, but also that if you need to use a package
with both Python 2.x and 3.x, you'll need to install it twice, once for each
Python version.</p>
<h5>List installed packages</h5>
<p>You can easily see the list of the Python packages installed in your
environment, and their location, with <code>pip list</code>:</p>
<div class="codehilite"><pre><span></span>$ pip list -v
Package    Version Location                                                            Installer
---------- ------- ------------------------------------------------------------------- ---------
pip        18.1    /share/software/user/open/python/2.7.13/lib/python2.7/site-packages pip
setuptools 28.8.0  /share/software/user/open/python/2.7.13/lib/python2.7/site-packages pip
urllib3    1.24    /home/users/kilian/.local/lib/python2.7/site-packages               pip
virtualenv 15.1.0  /share/software/user/open/python/2.7.13/lib/python2.7/site-packages pip
</pre></div>

<h5>Alternative installation path</h5>
<div class="admonition warning">
<p class="admonition-title">Python paths</p>
<p>While theoretically possible, installing Python packages in alternate
locations can be tricky, so we recommend trying to stick to the <code>pip
install --user</code> way as often as possible. But in case you absolutely need
it, we provide some guidelines below.</p>
</div>
<p>One common case of needing to install Python packages in alternate locations is
to share those packages with a group of users. Here's an example that will show
how to install the <code>urllib3</code> Python package in a group-shared location and let
users from the group use it without having to install it themselves.</p>
<p>First, you need to create a directory to store those packages. We'll put it in
<code>$GROUP_HOME</code>:
<div class="codehilite"><pre><span></span>$ mkdir -p $GROUP_HOME/python/
</pre></div>
Then, we load the Python module we need, and we instruct <code>pip</code> to install its
packages in the directory we just created:
<div class="codehilite"><pre><span></span>$ ml python/2.7.13
$ PYTHONUSERBASE=$GROUP_HOME/python pip install --user urllib3
</pre></div>
We still use the <code>--user</code> option, but with <code>PYTHONUSERBASE</code> pointing to a
different directory, <code>pip</code> will install packages there.</p>
<p>Now, to be able to use that Python module, since it's not been installed in a
default directory, you (and all the members of the group who will want to use
that module) need to set their <code>PYTHONPATH</code> to include our new shared
directory<sup id="fnref:pythonpath"><a class="footnote-ref" href="#fn:pythonpath">1</a></sup>:
<div class="codehilite"><pre><span></span>$ export PYTHONPATH=$GROUP_HOME/python/lib/python2.7/site-packages:$PYTHONPATH
</pre></div>
And now, the module should be visible:
<div class="codehilite"><pre><span></span>$ pip list -v
Package    Version Location                                                            Installer
---------- ------- ------------------------------------------------------------------- ---------
pip        18.1    /share/software/user/open/python/2.7.13/lib/python2.7/site-packages pip
setuptools 28.8.0  /share/software/user/open/python/2.7.13/lib/python2.7/site-packages pip
urllib3    1.24    /home/groups/ruthm/python/lib/python2.7/site-packages               pip
virtualenv 15.1.0  /share/software/user/open/python/2.7.13/lib/python2.7/site-packages pip
</pre></div></p>
<div class="admonition tip">
<p class="admonition-title"><code>$PYTHONPATH</code> depends on the Python version</p>
<p>The <code>$PYTHONPATH</code> environment variable is dependent on the Python version
you're using, so for Python 3.6, it should include
<code>$GROUP_HOME/python/lib/python3.6/site-packages</code></p>
</div>
<div class="admonition info">
<p class="admonition-title"><code>$PATH</code> may also need to be updated</p>
<p>Some Python package sometimes also install executable scripts. To
make them easily accessible in your environment, you may also want to
modify your <code>$PATH</code> to include their installation directory.</p>
<p>For instance, if you installed Python packages in <code>$GROUP_HOME/python</code>:
<div class="codehilite"><pre><span></span>$ export PATH=$GROUP_HOME/python/bin
</pre></div></p>
</div>
<h5>Installing packages from GitHub</h5>
<p><code>pip</code> also supports installing packages from a variety of sources, including
GitHub repositories.</p>
<p>For instance, to install <a href="https://httpie.org/">HTTPie</a>, you can do:
<div class="codehilite"><pre><span></span>$ pip install --user git+git://github.com/jkbr/httpie.git
</pre></div></p>
<h5>Installing a list of modules using a requirement file</h5>
<p><code>pip</code> allows installing a list of packages listed in a file, which can be
pretty convenient to install several dependencies at once.</p>
<p>In order to do this, create a text file called <code>requirements.txt</code> and place
each package you would like to install on its own line:</p>
<div class="superfences-tabs">
<input name="__tabs_1" type="radio" id="__tab_1_0" checked="checked" />
<label for="__tab_1_0">requirements.txt</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>numpy
scikit-learn
keras
tensorflow
</pre></div></div>
</div>
<p>You can now install your modules like so:
<div class="codehilite"><pre><span></span>$ ml python
$ pip install--user -r requirements.txt
</pre></div></p>
<h4 id="upgrading-packages">Upgrading packages<a class="headerlink" href="#upgrading-packages" title="Permanent link">#</a></h4>
<p><code>pip</code> can update already installed packages with the following command:</p>
<div class="codehilite"><pre><span></span>$ pip install --user --upgrade &lt;package_name&gt;
</pre></div>

<p>Upgrading packages also works with <code>requirements.txt</code> files:</p>
<div class="codehilite"><pre><span></span>$ pip install --user --upgrade -r requirements.txt
</pre></div>

<h4 id="uninstalling-packages">Uninstalling packages<a class="headerlink" href="#uninstalling-packages" title="Permanent link">#</a></h4>
<p>To uninstall a Python package, you can use the <code>pip uninstall</code> command (note
that it doesn't take any <code>--user</code> option):</p>
<div class="codehilite"><pre><span></span>$ pip uninstall &lt;package_name&gt;
$ pip uninstall -r requirements.txt
</pre></div>

<div class="footnote">
<hr />
<ol>
<li id="fn:pythonpath">
<p>This line can also be added to a user's <code>~/.profile</code> file, for a
  more permanent setting.&#160;<a class="footnote-backref" href="#fnref:pythonpath" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../julia/" title="Julia" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Julia</span></div></a><a href="../perl/" title="Perl" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Perl</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Copyright &copy; 2014 - 2018 &mdash; <a href='mailto:srcc-support@stanford.edu'>Stanford Research Computing Center</a></div> Made with <i class="fa fa-heart md-highlight"></i> in <span class="md-footer-copyright__highlight"><a href='https://www.google.com/maps/place/Stanford,+CA'>Stanford, California</a> </span></div><div class="md-footer-social"><link rel="stylesheet" href="../../../../assets/fonts/font-awesome.css"> <a href="https://srcc.stanford.edu" class="md-footer-social__link fa fa-globe"></a>  <a href="https://github.com/stanford-rc" class="md-footer-social__link fa fa-github"></a>  <a href="https://twitter.com/StanfordCompute" class="md-footer-social__link fa fa-twitter"></a>  <a href="https://www.linkedin.com/school/1792/" class="md-footer-social__link fa fa-linkedin"></a> </div></div></div></footer></div><script src="../../../../assets/javascripts/application.9e29383c.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script><script src="../../../.."></script><script src="../../../../search/main.js"></script></body></html>