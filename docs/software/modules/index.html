 <!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Sherlock Cluster documentation"><link rel="canonical" href="https://www.sherlock.stanford.edu/docs/software/modules/"><meta name="author" content="Kilian Cavalotti"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\_\-\.]+"><link rel="shortcut icon" href="../../../img/logo_small.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Modules - Sherlock</title><link rel="stylesheet" href="../../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../../assets/stylesheets/application-palette.fe74ad26.css"><meta name="theme-color" content=""><script src="../../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../../assets/fonts/material-icons.css"><link rel="manifest" href="../../../manifest.webmanifest"><link rel="stylesheet" href="../../.."><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-68034405-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="stanford" data-md-color-accent="stanford"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#environment-modules" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://www.sherlock.stanford.edu/" title="Sherlock" class="md-header-nav__button md-logo"><img src="../../../img/logo_small.png" width="24" height="24"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Sherlock</span><span class="md-header-nav__topic">Modules</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/stanford-rc/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">SRCC <i class="fa fa-heart-o"></i> Open Source</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://www.sherlock.stanford.edu/" title="Sherlock" class="md-nav__button md-logo"><img src="../../../img/logo_small.png" width="48" height="48"></a>Sherlock</label><div class="md-nav__source"><a href="https://github.com/stanford-rc/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">SRCC <i class="fa fa-heart-o"></i> Open Source</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1"><label class="md-nav__link" for="nav-1">Overview</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-1">Overview</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../overview/introduction/" title="Introduction" class="md-nav__link">Introduction</a></li><li class="md-nav__item"><a href="../../overview/concepts/" title="Concepts" class="md-nav__link">Concepts</a></li><li class="md-nav__item"><a href="../../overview/glossary/" title="Glossary" class="md-nav__link">Glossary</a></li><li class="md-nav__item"><a href="../../overview/specs/" title="Tech specs" class="md-nav__link">Tech specs</a></li><li class="md-nav__item"><a href="../../overview/status/" title="Status" class="md-nav__link">Status</a></li><li class="md-nav__item"><a href="../../overview/about/" title="About" class="md-nav__link">About</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">Getting Started</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">Getting Started</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../getting-started/prerequisites/" title="Prerequisites" class="md-nav__link">Prerequisites</a></li><li class="md-nav__item"><a href="../../getting-started/connecting/" title="Connecting" class="md-nav__link">Connecting</a></li><li class="md-nav__item"><a href="../../getting-started/submitting/" title="Submitting jobs" class="md-nav__link">Submitting jobs</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">User guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">User guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../user-guide/running-jobs/" title="Running jobs" class="md-nav__link">Running jobs</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2"><label class="md-nav__link" for="nav-3-2">Specialized resources</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-2">Specialized resources</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../user-guide/gpu/" title="GPU nodes" class="md-nav__link">GPU nodes</a></li></ul></nav></li><li class="md-nav__item"><a href="../../user-guide/ondemand/" title="OnDemand" class="md-nav__link">OnDemand</a></li><li class="md-nav__item"><a href="../../user-guide/troubleshoot/" title="Troubleshooting" class="md-nav__link">Troubleshooting</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">Storage</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Storage</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../storage/overview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../storage/filesystems/" title="Filesystems" class="md-nav__link">Filesystems</a></li><li class="md-nav__item"><a href="../../storage/data-sharing/" title="Data sharing" class="md-nav__link">Data sharing</a></li><li class="md-nav__item"><a href="../../storage/data-protection/" title="Data protection" class="md-nav__link">Data protection</a></li><li class="md-nav__item"><a href="../../storage/data-transfer/" title="Data transfer" class="md-nav__link">Data transfer</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked><label class="md-nav__link" for="nav-5">Software</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">Software</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../overview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../list/" title="List" class="md-nav__link">List</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Modules</label><a href="./" title="Modules" class="md-nav__link md-nav__link--active">Modules</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#environment-modules" title="Environment modules" class="md-nav__link">Environment modules</a></li><li class="md-nav__item"><a href="#module-categories" title="Module categories" class="md-nav__link">Module categories</a></li><li class="md-nav__item"><a href="#module-usage" title="Module usage" class="md-nav__link">Module usage</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#module-properties" title="Module properties" class="md-nav__link">Module properties</a></li><li class="md-nav__item"><a href="#searching-for-modules" title="Searching for modules" class="md-nav__link">Searching for modules</a></li><li class="md-nav__item"><a href="#examples" title="Examples" class="md-nav__link">Examples</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#listing" title="Listing" class="md-nav__link">Listing</a></li><li class="md-nav__item"><a href="#searching" title="Searching" class="md-nav__link">Searching</a></li><li class="md-nav__item"><a href="#loading" title="Loading" class="md-nav__link">Loading</a></li></ul></nav></li><li class="md-nav__item"><a href="#reseting-the-modules-environment" title="Reseting the modules environment" class="md-nav__link">Reseting the modules environment</a></li><li class="md-nav__item"><a href="#loading-modules-in-jobs" title="Loading modules in jobs" class="md-nav__link">Loading modules in jobs</a></li></ul></nav></li><li class="md-nav__item"><a href="#custom-modules" title="Custom modules" class="md-nav__link">Custom modules</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#lab-provided-software" title="Lab-provided software" class="md-nav__link">Lab-provided software</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../install/" title="Installation" class="md-nav__link">Installation</a></li><li class="md-nav__item"><a href="../containers/" title="Containers" class="md-nav__link">Containers</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-6" type="checkbox" id="nav-5-6"><label class="md-nav__link" for="nav-5-6">Usage</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-6">Usage</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../using/R/" title="R" class="md-nav__link">R</a></li><li class="md-nav__item"><a href="../using/julia/" title="Julia" class="md-nav__link">Julia</a></li><li class="md-nav__item"><a href="../using/python/" title="Python" class="md-nav__link">Python</a></li><li class="md-nav__item"><a href="../using/perl/" title="Perl" class="md-nav__link">Perl</a></li><li class="md-nav__item"><a href="../using/spark/" title="Spark" class="md-nav__link">Spark</a></li><li class="md-nav__item"><a href="../using/mariadb/" title="MariaDB" class="md-nav__link">MariaDB</a></li><li class="md-nav__item"><a href="../using/postgresql/" title="PostgreSQL" class="md-nav__link">PostgreSQL</a></li><li class="md-nav__item"><a href="../using/singularity/" title="Singularity" class="md-nav__link">Singularity</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6"><label class="md-nav__link" for="nav-6">Advanced topics</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">Advanced topics</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../advanced-topics/connection/" title="Connection" class="md-nav__link">Connection</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#environment-modules" title="Environment modules" class="md-nav__link">Environment modules</a></li><li class="md-nav__item"><a href="#module-categories" title="Module categories" class="md-nav__link">Module categories</a></li><li class="md-nav__item"><a href="#module-usage" title="Module usage" class="md-nav__link">Module usage</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#module-properties" title="Module properties" class="md-nav__link">Module properties</a></li><li class="md-nav__item"><a href="#searching-for-modules" title="Searching for modules" class="md-nav__link">Searching for modules</a></li><li class="md-nav__item"><a href="#examples" title="Examples" class="md-nav__link">Examples</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#listing" title="Listing" class="md-nav__link">Listing</a></li><li class="md-nav__item"><a href="#searching" title="Searching" class="md-nav__link">Searching</a></li><li class="md-nav__item"><a href="#loading" title="Loading" class="md-nav__link">Loading</a></li></ul></nav></li><li class="md-nav__item"><a href="#reseting-the-modules-environment" title="Reseting the modules environment" class="md-nav__link">Reseting the modules environment</a></li><li class="md-nav__item"><a href="#loading-modules-in-jobs" title="Loading modules in jobs" class="md-nav__link">Loading modules in jobs</a></li></ul></nav></li><li class="md-nav__item"><a href="#custom-modules" title="Custom modules" class="md-nav__link">Custom modules</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#lab-provided-software" title="Lab-provided software" class="md-nav__link">Lab-provided software</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/stanford-rc/www.sherlock.stanford.edu/edit/docs/src/docs/software/modules.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1>Modules</h1><h2 id="environment-modules">Environment modules<a class="headerlink" href="#environment-modules" title="Permanent link">#</a></h2>
<p>Software is provided on Sherlock under the form of loadable <em>environment
modules</em>.</p>
<div class="admonition tldr">
<p class="admonition-title">Software is only accessible via modules</p>
<p>The use of a module system means that most software is not accessible by
default and has to be loaded using the <code>module</code> command. This mechanism
allows us to provide multiple versions of the same software concurrently,
and gives users the possibility to easily switch between software versions.</p>
</div>
<p>Sherlock uses <a href="//lmod.readthedocs.io">Lmod</a> to manage software installations. The modules
system helps setting up the user's shell environment to give access to
applications, and make running and compiling software easier. It also allows us
to provide multiple versions of the same software, that would otherwise
conflict with each other, and abstract things from the OS sometimes rigid
versions and dependencies.</p>
<p>When you first log into Sherlock, you'll be presented with a default, bare bone
environment with minimal software available. The module system is used to
manage the user environment and to <em>activate</em> software packages on demand.
In order to use software installed on Sherlock, you must first load the
corresponding software module.</p>
<p>When you load a module, the system will set or modify your user environment
variables to enable access to the software package provided by that module. For
instance, the <code>$PATH</code> environment variable might be updated so that appropriate
executables for that package can be used.</p>
<h2 id="module-categories">Module categories<a class="headerlink" href="#module-categories" title="Permanent link">#</a></h2>
<p>Modules on Sherlock are organized by scientific field, in distinct categories.
This is to limit the information overload that can result when displaying the
full list of available modules. Given the large diversity of the Sherlock user
population,  all users are not be interested in the same kind of software, and
high-energy physicists may not want to see their screens cluttered with the
latest bioinformatics packages.</p>
<div class="admonition summary">
<p class="admonition-title">Module categories</p>
<p>You will first have to load a category module before getting access to
individual modules. The <code>math</code> and <code>devel</code> categories are loaded by
default, and modules in those categories can be loaded directly</p>
</div>
<p>For instance, to be able to load the <code>gromacs</code> module, you'll first need to
load the <code>chemistry</code> module. This can be done in a single command, by
specifying first the category, then the actual application module name:
<div class="codehilite"><pre><span></span>$ module load chemistry gromacs
</pre></div></p>
<p>The <code>math</code> and <code>devel</code> categories, which are loaded by default, provide direct
access to compilers, languages, and MPI and numerical libraries.</p>
<p>For a complete list of software odule categories, please refer to the <a href="list">list of
available software</a></p>
<div class="admonition tip">
<p class="admonition-title">Searching for a module</p>
<p>To know how to access a module, you can use the <code>module spider
&lt;module_name&gt;</code> command. It will search through all the installed modules,
even if they're masked, and display instructions to load them. See the
<a href="#examples">Examples</a> section for details.</p>
</div>
<h2 id="module-usage">Module usage<a class="headerlink" href="#module-usage" title="Permanent link">#</a></h2>
<p>The most common <code>module</code> commands are outlined in the following table.
<code>module</code> commands may be shortened with the <code>ml</code> alias, with slightly different
semantics.</p>
<div class="admonition tip">
<p class="admonition-title">Module names auto-completion</p>
<p>The <code>module</code> command supports auto-completion, so you can just start typing
the name of a module, and press <span class="keys"><kbd class="key-tab">Tab</kbd></span> to let the shell automatically
complete the module name and/or version.</p>
</div>
<table>
<thead>
<tr>
<th>Module&nbsp;command</th>
<th>Short&nbsp;version</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>module avail</code></td>
<td><code>ml av</code></td>
<td>List&nbsp;available&nbsp;software<sup id="fnref:missing_mod"><a class="footnote-ref" href="#fn:missing_mod">1</a></sup></td>
</tr>
<tr>
<td><code>module spider gromacs</code></td>
<td><code>ml spider gromacs</code></td>
<td>Search for particular software</td>
</tr>
<tr>
<td><code>module keyword blas</code></td>
<td><code>ml key blas</code></td>
<td>Search for <code>blas</code> in module names and descriptions</td>
</tr>
<tr>
<td><code>module whatis gcc</code></td>
<td><code>ml whatis gcc</code></td>
<td>Display information about the <code>gcc</code> module</td>
</tr>
<tr>
<td><code>module help gcc</code></td>
<td><code>ml help gcc</code></td>
<td>Display module specific help</td>
</tr>
<tr>
<td><code>module load gcc</code></td>
<td><code>ml gcc</code></td>
<td>Load a module to use the associated software</td>
</tr>
<tr>
<td><code>module load gsl/2.3</code></td>
<td><code>ml gsl/2.3</code></td>
<td>Load specific version of a module</td>
</tr>
<tr>
<td><code>module unload gcc</code></td>
<td><code>ml -gcc</code></td>
<td>Unload a module</td>
</tr>
<tr>
<td><code>module swap gcc icc</code></td>
<td><code>ml -gcc icc</code></td>
<td>Swap a module (unload <code>gcc</code> and replace it with <code>icc</code>)</td>
</tr>
<tr>
<td><code>module purge</code></td>
<td><code>ml purge</code></td>
<td>Remove all modules<sup id="fnref:sticky_mod"><a class="footnote-ref" href="#fn:sticky_mod">2</a></sup></td>
</tr>
<tr>
<td><code>module save foo</code></td>
<td><code>ml save foo</code></td>
<td>Save the state of all loaded modules in a collection named <code>foo</code></td>
</tr>
<tr>
<td><code>module restore foo</code></td>
<td><code>ml restore foo</code></td>
<td>Restore the state of saved modules from the <code>foo</code> collection</td>
</tr>
</tbody>
</table>
<p>Additional module sub-commands are documented in the <code>module help</code> command. For
complete reference, please refer to the <a href="//lmod.readthedocs.io/en/latest/010_user.html">official Lmod
documentation</a>.</p>
<h3 id="module-properties">Module properties<a class="headerlink" href="#module-properties" title="Permanent link">#</a></h3>
<div class="admonition important">
<p class="admonition-title">Multiple versions</p>
<p>When multiple versions of the same module exist, <code>module</code> will load the one
marked as <code>Default (D)</code>. For the sake of reproducibility, we recommend
always specifying the module version you want to load, as defaults may
evolve over time.</p>
</div>
<p>To quickly see some of the modules characteristics, <code>module avail</code> will display
colored property attributes next to the module names. The main module
properties are:</p>
<ul>
<li><code>S</code>: Module is sticky, requires <code>--force</code> to unload or purge</li>
<li><code>L</code>: Indicate currently loaded module</li>
<li><code>D</code>: Default module that will be loaded when multiple versions are available</li>
<li><code>r</code>: Restricted access, typically software under license.  <a href="mailto:srcc-support@stanford.edu">Contact
  us</a> for details</li>
<li><code>g</code>: GPU-accelerated software, will only run on GPU nodes</li>
<li><code>m</code>: Software supports parallel execution using MPI</li>
</ul>
<h3 id="searching-for-modules">Searching for modules<a class="headerlink" href="#searching-for-modules" title="Permanent link">#</a></h3>
<p>You can search through all the available modules for either:</p>
<ul>
<li>a module name (if you already know it), using <code>module spider</code></li>
<li>any string within modules names and descriptions, using <code>module keyword</code></li>
</ul>
<p>For instance, if you want to know how to load the <code>gromacs</code> module, you can do:
<div class="codehilite"><pre><span></span>$ module spider gromacs
</pre></div></p>
<p>If you don't know the module name, or want to list all the modules that contain
a specific string of characters in their name or description, you can use
<code>module keyword</code>. For instance, the following command will list all the modules
providing a BLAS library:
<div class="codehilite"><pre><span></span>$ module keyword blas
</pre></div></p>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">#</a></h3>
<h4 id="listing">Listing<a class="headerlink" href="#listing" title="Permanent link">#</a></h4>
<p>To list all the modules that can be loaded, you can do:</p>
<div class="codehilite"><pre><span></span>$ ml av

-- math -- numerical libraries, statistics, deep-learning, computer science ---
   R/3.4.0             gsl/1.16             openblas/0.2.19
   cudnn/5.1  (g)      gsl/2.3       (D)    py-scipystack/1.0_py27 (D)
   cudnn/6.0  (g,D)    imkl/2017.u2         py-scipystack/1.0_py36
   fftw/3.3.6          matlab/R2017a (r)

------------------ devel -- compilers, MPI, languages, libs -------------------
   boost/1.64.0          icc/2017.u2           python/2.7.13    (D)
   cmake/3.8.1           ifort/2017.u2         python/3.6.1
   cuda/8.0.61    (g)    impi/2017.u2   (m)    scons/2.5.1_py27 (D)
   eigen/3.3.3           java/1.8.0_131        scons/2.5.1_py36
   gcc/6.3.0      (D)    julia/0.5.1           sqlite/3.18.0
   gcc/7.1.0             llvm/4.0.0            tbb/2017.u2
   h5utils/1.12.1        nccl/1.3.4     (g)    tcltk/8.6.6
   hdf5/1.10.0p1         openmpi/2.0.2  (m)

-------------- categories -- load to make more modules available --------------
   biology      devel (S,L)    physics    system
   chemistry    math  (S,L)    staging    viz

  Where:
   S:  Module is Sticky, requires --force to unload or purge
   r:  Restricted access
   g:  GPU support
   L:  Module is loaded
   m:  MPI support
   D:  Default Module

Use &quot;module spider&quot; to find all possible modules.
Use &quot;module keyword key1 key2 ...&quot; to search for all possible modules matching
any of the &quot;keys&quot;.
</pre></div>

<h4 id="searching">Searching<a class="headerlink" href="#searching" title="Permanent link">#</a></h4>
<p>To search for a specific string in modules names and descriptions, you can run:</p>
<p><div class="codehilite"><pre><span></span>$ module keyword numpy
---------------------------------------------------------------------------

The following modules match your search criteria: &quot;numpy&quot;
---------------------------------------------------------------------------

  py-scipystack: py-scipystack/1.0_py27, py-scipystack/1.0_py36
    The SciPy Stack is a collection of open source software for scientific
    computing in Python. It provides the following packages: numpy, scipy,
    matplotlib, ipython, jupyter, pandas, sympy and nose.

---------------------------------------------------------------------------
[...]
$ ml key compiler
---------------------------------------------------------------------------

The following modules match your search criteria: &quot;compiler&quot;
---------------------------------------------------------------------------

  cmake: cmake/3.8.1
    CMake is an extensible, open-source system that manages the build
    process in an operating system and in a compiler-independent manner.

  gcc: gcc/6.3.0, gcc/7.1.0
    The GNU Compiler Collection includes front ends for C, C++, Fortran,
    Java, and Go, as well as libraries for these languages (libstdc++,
    libgcj,...).

  icc: icc/2017.u2
    Intel C++ Compiler, also known as icc or icl, is a group of C and C++
    compilers from Intel

  ifort: ifort/2017.u2
    Intel Fortran Compiler, also known as ifort, is a group of Fortran
    compilers from Intel

  llvm: llvm/4.0.0
    The LLVM Project is a collection of modular and reusable compiler and
    toolchain technologies. Clang is an LLVM native C/C++/Objective-C
    compiler,

---------------------------------------------------------------------------
</pre></div>
To get information about a specific module, especially how to load it, the
following command can be used:
<div class="codehilite"><pre><span></span>$ module spider gromacs

-------------------------------------------------------------------------------
  gromacs: gromacs/2016.3
-------------------------------------------------------------------------------
    Description:
      GROMACS is a versatile package to perform molecular dynamics, i.e.
      simulate the Newtonian equations of motion for systems with hundreds to
      millions of particles.

    Properties:
      GPU support      MPI support

    You will need to load all module(s) on any one of the lines below before
    the &quot;gromacs/2016.3&quot; module is available to load.

      chemistry
</pre></div></p>
<h4 id="loading">Loading<a class="headerlink" href="#loading" title="Permanent link">#</a></h4>
<p>Loading a category module allows to get access to field-specific software:</p>
<div class="codehilite"><pre><span></span>$ ml chemistry
$ ml av

------------- chemistry -- quantum chemistry, molecular dynamics --------------
   gromacs/2016.3 (g,m)    vasp/5.4.1 (g,r,m)

-- math -- numerical libraries, statistics, deep-learning, computer science ---
   R/3.4.0             gsl/1.16             openblas/0.2.19
   cudnn/5.1  (g)      gsl/2.3       (D)    py-scipystack/1.0_py27 (D)
   cudnn/6.0  (g,D)    imkl/2017.u2         py-scipystack/1.0_py36
   fftw/3.3.6          matlab/R2017a (r)

------------------ devel -- compilers, MPI, languages, libs -------------------
   boost/1.64.0          icc/2017.u2           python/2.7.13    (D)
   cmake/3.8.1           ifort/2017.u2         python/3.6.1
   cuda/8.0.61    (g)    impi/2017.u2   (m)    scons/2.5.1_py27 (D)
   eigen/3.3.3           java/1.8.0_131        scons/2.5.1_py36
   gcc/6.3.0      (D)    julia/0.5.1           sqlite/3.18.0
   gcc/7.1.0             llvm/4.0.0            tbb/2017.u2
   h5utils/1.12.1        nccl/1.3.4     (g)    tcltk/8.6.6
   hdf5/1.10.0p1         openmpi/2.0.2  (m)

-------------- categories -- load to make more modules available --------------
   biology          devel (S,L)    physics    system
   chemistry (L)    math  (S,L)    staging    viz

[...]
</pre></div>

<h3 id="reseting-the-modules-environment">Reseting the modules environment<a class="headerlink" href="#reseting-the-modules-environment" title="Permanent link">#</a></h3>
<p>If you want to reset your modules environment as it was when you initially
connected to Sherlock, you can use the <code>ml reset</code> command: it will remove all
the modules you have loaded, and restore the original state where only the
<code>math</code> and <code>devel</code> categories are accessible.</p>
<p>If you want to remove <em>all</em> modules from your environment, including the
default <code>math</code> and <code>devel</code> modules, you can use <code>ml --force purge</code>.</p>
<h3 id="loading-modules-in-jobs">Loading modules in jobs<a class="headerlink" href="#loading-modules-in-jobs" title="Permanent link">#</a></h3>
<p>In order for an application running in a Slurm job to have access to any
necessary module-provided software packages, we recommend loading those modules
in the job script directly. Since Slurm propagates all user environment
variables by default, this is not strictly necessary, as jobs will inherit the
modules loaded at submission time. But to make sure things are reproducible and
avoid issues, it is preferable to explicitly load the modules in the batch
scripts.</p>
<p><code>module load</code> commands should be placed right after <code>#SBATCH</code> directives and
before the actual executable calls. For instance:</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH ...</span>
<span class="c1">#SBATCH ...</span>
<span class="c1">#SBATCH ...</span>

ml reset
ml load gromacs/2016.3

srun gmx_mpi ...
</pre></div>

<h2 id="custom-modules">Custom modules<a class="headerlink" href="#custom-modules" title="Permanent link">#</a></h2>
<p>Users are welcome and encouraged to build and install their own software on
Sherlock. To that end, and to facilitate usage or sharing of their custom
software installations, they can create their own module repositories.</p>
<p>See the <a href="/docs/software/install">Software Installation page</a> for more details.</p>
<h3 id="lab-provided-software">Lab-provided software<a class="headerlink" href="#lab-provided-software" title="Permanent link">#</a></h3>
<p>PI groups and Labs can share their software installations and modules with the
whole Sherlock community of users, and let everyone benefit from their tuning
efforts and software developments.</p>
<p>Those modules are available in the specific <code>labs</code> category, and organized by
lab name.</p>
<p>For instance, listing the available lab modules can be done with:</p>
<div class="codehilite"><pre><span></span>$ ml labs
$ ml av
-------------------- labs -- lab-contributed software ----------------------
   poldrack
</pre></div>

<p>To get information about a specific lab module:</p>
<div class="codehilite"><pre><span></span>$ ml show poldrack
----------------------------------------------------------------------------
   /share/software/modules/labs/poldrack.lua:
----------------------------------------------------------------------------
prepend_path(&quot;MODULEPATH&quot;,&quot;/home/groups/russpold/modules&quot;)
whatis(&quot;Name:        poldrack&quot;)
whatis(&quot;Version:     1.0&quot;)
whatis(&quot;Category:    labs&quot;)
whatis(&quot;URL:         https://github.com/poldracklab/lmod_modules&quot;)
whatis(&quot;Description: Software modules contributed by the Poldrack Lab.&quot;)
</pre></div>

<p>And to list the available software modules contributed by the lab:</p>
<div class="codehilite"><pre><span></span>$ ml poldrack
$ ml av

------------------------ /home/groups/russpold/modules -------------------------
   afni/17.3.03           freesurfer/6.0.1            gsl/2.3      (D)
   anaconda/5.0.0-py36    fsl/5.0.9                   pigz/2.4
   ants/2.1.0.post710     fsl/5.0.11           (D)    remora/1.8.2
   c3d/1.1.0              git-annex/6.20171109        xft/2.3.2
[...]
</pre></div>

<div class="footnote">
<hr />
<ol>
<li id="fn:missing_mod">
<p>If a module is not listed here, it might be unavailable in the
  loaded modules categories, and require loading another category module.
  Search for not-listed software using the <code>module spider</code> command.&#160;<a class="footnote-backref" href="#fnref:missing_mod" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:sticky_mod">
<p>The <code>math</code> and <code>devel</code> category modules will not be unloaded
  with <code>module purge</code> as they are "sticky". If a user wants to unload a sticky
  module, they must specify the <code>--force</code> option.&#160;<a class="footnote-backref" href="#fnref:sticky_mod" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../list/" title="List" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>List</span></div></a><a href="../install/" title="Installation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Installation</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Copyright &copy; 2014 - 2018 &mdash; <a href='mailto:srcc-support@stanford.edu'>Stanford Research Computing Center</a></div> Made with <i class="fa fa-heart md-highlight"></i> in <span class="md-footer-copyright__highlight"><a href='https://www.google.com/maps/place/Stanford,+CA'>Stanford, California</a> </span></div><div class="md-footer-social"><link rel="stylesheet" href="../../../assets/fonts/font-awesome.css"> <a href="https://srcc.stanford.edu" class="md-footer-social__link fa fa-globe"></a>  <a href="https://github.com/stanford-rc" class="md-footer-social__link fa fa-github"></a>  <a href="https://twitter.com/StanfordCompute" class="md-footer-social__link fa fa-twitter"></a>  <a href="https://www.linkedin.com/school/1792/" class="md-footer-social__link fa fa-linkedin"></a> </div></div></div></footer></div><script src="../../../assets/javascripts/application.9e29383c.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script><script src="../../.."></script><script src="../../../search/main.js"></script></body></html>